@model FinanceProjector.Web.Models.ViewModels.BudgetListViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Budget</h2>

<table class="table table-bordered center-aligned">
    <tr>
        <td colspan="10" align="center">@Model.Budget.Month.ToString("MMMM yyyy")</td>
        <td colspan="8" align="center">November 2014</td>
    </tr>
    <tr>
        <td colspan="2"></td>
        <td colspan="4" align="center">Planned</td>
        <td colspan="4" align="center">Actual</td>

        <td colspan="4" align="center">Planned</td>
        <td colspan="4" align="center">Actual</td>
    </tr>
    <tr>
        <td colspan="2"></td>
        <td>Credits</td>
        <td>Debits</td>
        <td>Total</td>
        <td>% of Budget</td>
        <td>Credits</td>
        <td>Debits</td>
        <td>Total</td>
        <td>% of Budget</td>


        <td>Credits</td>
        <td>Debits</td>
        <td>Total</td>
        <td>% of Budget</td>
        <td>Credits</td>
        <td>Debits</td>
        <td>Total</td>
        <td>% of Budget</td>
    </tr>
    <tr>
        <td colspan="18">totals</td>
    </tr>
    <tr>
        <td colspan="18"></td>
    </tr>

    @foreach (var item in Model.BudgetItems)
    { 
        <tr>
            <td colspan="2">@item.CategoryName</td>
            <td></td>
            <td></td>
            <td>0</td>
            <td>0</td>
            <td></td>
            <td></td>
            <td>0</td>
            <td>0</td>
            
            <td></td>
            <td></td>
            <td>0</td>
            <td>0</td>
            <td></td>
            <td></td>
            <td>0</td>
            <td>0</td>
        </tr>
        
        foreach (var subItem in item.SubCategories)
        { 
        <tr>
            <td></td>
            <td>@subItem.CategoryName</td>
            <td>@Html.TextBox("plannedCredit", subItem.PlannedCredit, new { @class="form-control" })</td>
            <td>@Html.TextBox("plannedDebit", subItem.PlannedDebit, new { @class="form-control" })</td>
            <td>0</td>
            <td>0</td>
            <td>@subItem.ActualCredit</td>
            <td>@subItem.ActualDebit</td>
            <td>0</td>
            <td>0</td>
            
            <td>@Html.TextBox("plannedCredit", subItem.PlannedCredit, new { @class="form-control" })</td>
            <td>@Html.TextBox("plannedDebit", subItem.PlannedDebit, new { @class="form-control" })</td>
            <td>0</td>
            <td>0</td>
            <td>@subItem.ActualCredit</td>
            <td>@subItem.ActualDebit</td>
            <td>0</td>
            <td>0</td>
        </tr>
        }
    }
</table>
